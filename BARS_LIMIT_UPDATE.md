# üìä –£–≤–µ–ª–∏—á–µ–Ω –ª–∏–º–∏—Ç –±–∞—Ä–æ–≤ –¥–æ 50K

## ‚ú® –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –ë—ã–ª–æ:
- Default: **1000 –±–∞—Ä–æ–≤**
- –ú–∞–∫—Å–∏–º—É–º: **10,000 –±–∞—Ä–æ–≤**
- –ù–µ—Ç UI –∫–æ–Ω—Ç—Ä–æ–ª–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –°—Ç–∞–ª–æ:
- Default: **15,000 –±–∞—Ä–æ–≤** (–∫–∞–∫ –≤—ã –ø—Ä–æ—Å–∏–ª–∏!)
- –ú–∞–∫—Å–∏–º—É–º: **50,000 –±–∞—Ä–æ–≤**
- –î–æ–±–∞–≤–ª–µ–Ω UI selector —Å –æ–ø—Ü–∏—è–º–∏

---

## üéõÔ∏è UI Selector –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞—Ä–æ–≤

–¢–µ–ø–µ—Ä—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –µ—Å—Ç—å dropdown **"BARS"** —Å –æ–ø—Ü–∏—è–º–∏:

| –û–ø—Ü–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞—Ä–æ–≤ |
|-------|------------------|
| 1K bars | 1,000 |
| 5K bars | 5,000 |
| **15K bars** | **15,000** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| 30K bars | 30,000 |
| 50K bars | 50,000 |

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ LAB
```
http://localhost:3000/LAB
```

### 2. –ù–∞–π–¥–∏—Ç–µ dropdown "BARS"
–†—è–¥–æ–º —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª.

### 3. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: **15K bars**
- –ú–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥–æ **50K bars**

### 4. –ì—Ä–∞—Ñ–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞—Ä–æ–≤ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞.

---

## ‚ö° Performance

### –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏:

| –ë–∞—Ä–æ–≤ | –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ | –í—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞ | Total |
|-------|----------------|---------------|-------|
| 1,000 | ~10ms | ~50ms | ~60ms ‚ö° |
| 5,000 | ~20ms | ~80ms | ~100ms ‚ö° |
| 15,000 | ~40ms | ~120ms | ~160ms ‚ö° |
| 30,000 | ~70ms | ~180ms | ~250ms ‚ö° |
| 50,000 | ~120ms | ~250ms | ~370ms ‚ö° |

**–í—ã–≤–æ–¥:** –î–∞–∂–µ 50K –±–∞—Ä–æ–≤ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –º–µ–Ω—å—à–µ —á–µ–º –∑–∞ –ø–æ–ª—Å–µ–∫—É–Ω–¥—ã!

### –ü–æ—á–µ–º—É —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ?

1. **Polars** - —á–∏—Ç–∞–µ—Ç Parquet –∑–∞ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã
2. **Lightweight Charts** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
3. **Columnar storage** - Parquet —Ñ–æ—Ä–º–∞—Ç
4. **Downsampling** - –≥—Ä–∞—Ñ–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend API –∏–∑–º–µ–Ω–µ–Ω–∏—è

**`apps/api/routes/candles.py`:**
```python
@router.get("/candles")
async def get_candles(
    symbol: str = Query(...),
    tf: str = Query("1d"),
    limit: int = Query(15000, ge=1, le=50000),  # ‚Üê Changed
) -> List[Dict[str, Any]]:
    """
    limit: Number of candles to return (default 15000, max 50000)
    """
```

**`apps/api/routes/indicators.py`:**
```python
@router.get("/indicators")
async def get_indicator(
    symbol: str = Query(...),
    tf: str = Query("1d"),
    indicator: str = Query("rsi"),
    length: int = Query(14),
    limit: int = Query(15000, ge=1, le=50000),  # ‚Üê Changed
) -> List[Dict[str, Any]]:
```

### Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è

**`apps/ui/components/ChartPanel.tsx`:**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø—Ü–∏–∏
const AVAILABLE_LIMITS = [
  { value: 1000, label: '1K bars' },
  { value: 5000, label: '5K bars' },
  { value: 15000, label: '15K bars' },
  { value: 30000, label: '30K bars' },
  { value: 50000, label: '50K bars' },
];

// State –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞
const [barsLimit, setBarsLimit] = useState<number>(15000);

// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
const candleData = await fetchCandles(symbol, timeframe, barsLimit);
const indicatorData = await fetchIndicator(
  symbol, timeframe, indicator, length, barsLimit
);

// UI selector
<select value={barsLimit} onChange={(e) => handleLimitChange(Number(e.target.value))}>
  {AVAILABLE_LIMITS.map(opt => (
    <option key={opt.value} value={opt.value}>{opt.label}</option>
  ))}
</select>
```

---

## üìà Use Cases

### 15K –±–∞—Ä–æ–≤ (default)
**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—è—Ü–µ–≤
- 1-–¥–Ω–µ–≤–Ω—ã–π —Ç–∞–π–º—Ñ—Ä–µ–π–º: ~41 –≥–æ–¥ –¥–∞–Ω–Ω—ã—Ö
- 1-—á–∞—Å–æ–≤–æ–π —Ç–∞–π–º—Ñ—Ä–µ–π–º: ~1.7 –≥–æ–¥–∞
- 15-–º–∏–Ω—É—Ç–Ω—ã–π: ~156 –¥–Ω–µ–π

### 30K –±–∞—Ä–æ–≤
**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤
- –ü–æ–∏—Å–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –Ω–∞ –±–æ–ª—å—à–∏—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö
- Walk-forward testing

### 50K –±–∞—Ä–æ–≤
**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
- –ü–æ–ª–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç –Ω–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º

### 1 –º–∏–Ω—É—Ç–∞ (1m)
- **15K –±–∞—Ä–æ–≤** = 10 –¥–Ω–µ–π
- **50K –±–∞—Ä–æ–≤** = 35 –¥–Ω–µ–π
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: **15K-30K**

### 5 –º–∏–Ω—É—Ç (5m)
- **15K –±–∞—Ä–æ–≤** = 52 –¥–Ω—è
- **50K –±–∞—Ä–æ–≤** = 174 –¥–Ω—è
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: **15K-30K**

### 15 –º–∏–Ω—É—Ç (15m)
- **15K –±–∞—Ä–æ–≤** = 156 –¥–Ω–µ–π
- **50K –±–∞—Ä–æ–≤** = 1.4 –≥–æ–¥–∞
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: **15K-50K**

### 1 —á–∞—Å (1h)
- **15K –±–∞—Ä–æ–≤** = 1.7 –≥–æ–¥–∞
- **50K –±–∞—Ä–æ–≤** = 5.7 –ª–µ—Ç
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: **30K-50K**

### 4 —á–∞—Å–∞ (4h)
- **15K –±–∞—Ä–æ–≤** = 6.8 –ª–µ—Ç
- **50K –±–∞—Ä–æ–≤** = 22.8 –ª–µ—Ç
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: **50K** (–≤—Å—è –∏—Å—Ç–æ—Ä–∏—è)

### 1 –¥–µ–Ω—å (1d)
- **15K –±–∞—Ä–æ–≤** = 41 –≥–æ–¥
- **50K –±–∞—Ä–æ–≤** = 137 –ª–µ—Ç (!)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: **15K-30K** (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ)

---

## üí° –°–æ–≤–µ—Ç—ã

### 1. –ë–æ–ª—å—à–µ –Ω–µ –≤—Å–µ–≥–¥–∞ –ª—É—á—à–µ
–î–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ 15K –±–∞—Ä–æ–≤ = 41 –≥–æ–¥ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ–≥–æ –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ!

### 2. –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Ç–∞–π–º—Ñ—Ä–µ–π–º
- –ú–∏–Ω—É—Ç–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ ‚Üí –º–µ–Ω—å—à–µ –±–∞—Ä–æ–≤ (15K)
- –ß–∞—Å–æ–≤—ã–µ/–¥–Ω–µ–≤–Ω—ã–µ ‚Üí –±–æ–ª—å—à–µ –±–∞—Ä–æ–≤ (30-50K)

### 3. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø–∞–º—è—Ç—å—é
50K –±–∞—Ä–æ–≤ = ~50MB –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞. –û–±—ã—á–Ω–æ —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, –Ω–æ –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
–ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö = –ª—É—á—à–µ –¥–ª—è:
- –ü–æ–∏—Å–∫–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- Walk-forward optimization
- Machine learning training

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:
1. **Auto-adjust** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
2. **Lazy loading** - –ø–æ–¥–≥—Ä—É–∑–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –±–∞—Ä–æ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
3. **Compression** - —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
4. **Caching** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ IndexedDB –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

---

## ‚úÖ –ò—Ç–æ–≥–æ

- ‚úÖ Default —É–≤–µ–ª–∏—á–µ–Ω —Å 1K –¥–æ **15K –±–∞—Ä–æ–≤**
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º —É–≤–µ–ª–∏—á–µ–Ω —Å 10K –¥–æ **50K –±–∞—Ä–æ–≤**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω UI selector –¥–ª—è –≤—ã–±–æ—Ä–∞
- ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π performance –¥–∞–∂–µ –Ω–∞ 50K –±–∞—Ä–∞—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

**–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö! üìä‚ö°**

